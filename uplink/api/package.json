{
  "name": "uplink-api",
  "version": "1.6.2",
  "description": "Reach customers directly from your phoneâ€™s text messaging app and visualize the conversation in Salesforce",
  "main": "index.js",
  "license": "ISC",
  "private": true,
  "engines": {
    "node": ">=10.16.1"
  },
  "scripts": {
    "preinstall": "[ -z \"${SLSPATH}\" ] || ln -f -s ${SLSPATH} ./scripts/slsdeploy",
    "apidoc": "graphql-markdown http://localhost:3001/api > SCHEMA.md",
    "doc": "./node_modules/.bin/typedoc --out docs/ src/ --name Uplink --module commonjs --target ES6 --excludeExternals --includeDeclarations",
    "format": "prettier --write \"**/*.ts\"",
    "lint": "./node_modules/.bin/tslint --fix \"src/**/*.ts\"",
    "install:modules": "docker run -v `pwd`:`pwd` -w `pwd` -i -t ${LAMBCIBUILDTAG} bash -c yarn",
    "build:docker": "./build/buildLambdaDockerImage.sh ./build ${LAMBCIBUILDTAG}",
    "build:native": "export LAMBCIBUILDTAG='lambci/lambda:build-yarn-nodejs10.x' && yarn run install:modules",
    "debug": "export SLS_DEBUG=* && node --inspect $(which serverless) offline -s ${NODE_ENV:=staging} -P ${SLS_PORT:=3001} --noAuth",
    "deploy": "echo \"UPLINK DEPLOY USES SLS VERSION $(./scripts/slsdeploy --version)\" && yarn sls:package && yarn sls:deploy",
    "sls:package": "./scripts/slsdeploy package --stage=${NODE_ENV:=staging} --package build/package",
    "sls:deploy": "./scripts/slsdeploy deploy --stage=${NODE_ENV:=staging} --package build/package --verbose --aws-s3-accelerate",
    "test": "yarn run test:unit && yarn run test:integration",
    "test:db:migrate": "yarn --cwd ../../ knex --disablessl migrate:snapshot --snapshotout uplink_db_init.sql; if [ $? -eq 0 ]; then mv ./uplink_db_init.sql ./test/integration/init && echo 'Moved uplink_db_init.sql to ./test/integration/init'; fi;",
    "test:db:offline": "docker-compose up >> ./db-offline.log 2>&1 &",
    "test:integration": "yarn test:offline:up && mocha --opts test/integration/mocha.opts; yarn test:offline:down",
    "test:offline:up": "yarn test:sls:offline:up",
    "test:offline:down": "docker-compose down --volumes && yarn test:sls:offline:down",
    "test:sls:offline:down": "lsof -t -i:3001,3002,3003 | xargs kill -9",
    "test:sls:offline:up": "yarn test:sls:offline:3001 && yarn test:sls:offline:3002 && yarn test:sls:offline:3003",
    "test:sls:offline:3001": "lsof -Pi :3001 -sTCP:LISTEN -t || sls offline --noAuth --stage=test --port=3001 >> ./sls-offline.log 2>&1 &",
    "test:sls:offline:3002": "lsof -Pi :3002 -sTCP:LISTEN -t || sls offline --noAuth --stage=test --port=3002 >> ./sls-offline.log 2>&1 &",
    "test:sls:offline:3003": "lsof -Pi :3003 -sTCP:LISTEN -t || sls offline --noAuth --stage=test --port=3003 >> ./sls-offline.log 2>&1 &",
    "test:unit": "nyc --reporter=html --reporter=text mocha --opts test/unit/mocha.opts"
  },
  "nyc": {
    "extension": [
      ".ts"
    ],
    "include": [
      "**/src/**/*.ts"
    ],
    "exclude": [
      "**/*.d.ts",
      "node_modules",
      "**/src/api/*"
    ],
    "reporter": [
      "html",
      "text-summary"
    ],
    "all": true
  },
  "husky": {
    "hooks": {
      "pre-commit": "npm run format && npm run lint && git add ."
    }
  },
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/belunar/LunarVerse.git"
  },
  "bugs": {
    "url": "https://github.com/belunar/LunarVerse/issues"
  },
  "homepage": "https://github.com/belunar/LunarVerse#readme",
  "devDependencies": {
    "@types/aws-lambda": "^8.10.19",
    "@types/chai": "^4.1.7",
    "@types/faker": "^4.1.2",
    "@types/graphql": "^0.13.0",
    "@types/joi": "^14.0.1",
    "@types/js-yaml": "^3.11.4",
    "@types/knex": "^0.14.14",
    "@types/koa": "^2.0.45",
    "@types/koa-bodyparser": "^4.2.0",
    "@types/koa-helmet": "^3.1.2",
    "@types/koa-router": "^7.0.28",
    "@types/minimatch": "^3.0.3",
    "@types/mocha": "^5.2.7",
    "@types/mysql": "^2.15.5",
    "@types/node": "^9.6.0",
    "@types/redis": "^2.8.12",
    "@types/redlock": "^3.0.2",
    "@types/shelljs": "^0.8.1",
    "@types/sleep": "^0.0.7",
    "@types/supertest": "^2.0.4",
    "@types/twilio": "^0.0.9",
    "@types/uuid": "^3.4.4",
    "aws-sdk": "^2.504.0",
    "chai": "^4.1.7",
    "commander": "^2.19.0",
    "docker-compose": "^0.12.0",
    "exec-sql": "^2.0.2",
    "fork-ts-checker-webpack-plugin": "^0.4.1",
    "graphql-markdown": "^3.2.0",
    "happypack": "^4.0.1",
    "husky": "^0.15.0-rc.13",
    "js-yaml": "^3.12.0",
    "nyc": "^14.1.1",
    "prettier": "^1.11.1",
    "serverless-domain-manager": "^2.4.0",
    "serverless-mocha-plugin": "^1.8.3",
    "serverless-offline": "^3.25.6",
    "serverless-offline-scheduler": "^0.3.7",
    "serverless-plugin-slack": "awkward/serverless-plugin-slack",
    "serverless-scriptable-plugin": "^0.8.0",
    "serverless-webpack": "^5.0.0",
    "shelljs": "^0.8.3",
    "source-map-support": "^0.5.6",
    "supertest": "^3.1.0",
    "ts-loader": "^4.1.0",
    "ts-node": "^7.0.1",
    "tsconfig-paths-webpack-plugin": "^3.2.0",
    "tslint": "^5.9.1",
    "typedoc": "^0.15.0",
    "typescript": "^3.5.3",
    "webpack": "^4.1.1",
    "webpack-node-externals": "^1.6.0"
  },
  "dependencies": {
    "apollo-server-koa": "^1.3.6",
    "aws-lambda": "^0.1.2",
    "dataloader": "^1.4.0",
    "dataloader-sort": "^0.0.5",
    "debug": "^4.1.1",
    "deepmerge": "^3.2.0",
    "ext-name": "^5.0.0",
    "faker": "^4.1.0",
    "flatted": "^2.0.0",
    "graphql": "^0.13.2",
    "graphql-cost-analysis": "^1.0.1",
    "graphql-depth-limit": "^1.1.0",
    "graphql-tag-pluck": "^0.8.3",
    "graphql-tools": "^4.0.5",
    "json2csv": "^4.3.4",
    "knex": "^0.14.6",
    "koa": "^2.5.1",
    "koa-bodyparser": "^4.2.0",
    "koa-helmet": "^4.0.0",
    "koa-router": "^7.4.0",
    "lambda-warmer": "^1.1.1",
    "libphonenumber-js": "^1.1.7",
    "merge-graphql-schemas": "^1.5.1",
    "minimatch": "^3.0.4",
    "moment": "^2.24.0",
    "mysql": "^2.15.0",
    "node-fetch": "^2.1.2",
    "objection": "^1.1.10",
    "redis": "^2.8.0",
    "redlock": "^3.1.2",
    "rookout": "0.1.28",
    "scmp": "^2.0.0",
    "serverless": "1.32.0",
    "serverless-http": "^1.6.0",
    "twilio": "^3.11.2",
    "uuid": "^3.3.2",
    "xss": "^1.0.6"
  }
}
